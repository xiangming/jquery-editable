/*!
 * jquery-editable v1.0.0 (http://xiangming.github.io/jquery-editable)
 * Copyright (c) 2015 向明
 * Licensed under MIT (http://xiangming.github.io/jquery-editable/LICENSE)
 */
(function(b){var p={action:"click",type:"input",className:"",choice:{}};b.fn.editable=function(d,l){return this.each(function(){$this=b(this);var e=b.extend({},p,$this.data(),"object"==typeof d&&d);"function"!==typeof l&&(l=function(){});if("object"===typeof d){var a=e.trigger||$this;"string"===typeof a&&(a=b(a));var h=e.action,g=e.type,m=e.className,q=e.choice}else throw"Argument Error - jQuery.editable({}, function(){ ... })";var f=$this,k={start:function(n){a.unbind("clickhold"===h?"mousedown":h);a!==f&&a.hide();var e=("textarea"===g?f.html().replace(/<br( \/)?>/gm,"\n").replace(/&gt;/gm,">").replace(/&lt;/gm,"<"):f.text()).replace(/^\s+/,"").replace(/\s+$/,""),c=null;if("select"===g)for(i in c=b('<select class="'+m+'">'),n=q,n)c.append('<option value="'+i+'">'+n[i]+"</option>");else c="textarea"===g?b('<textarea class="'+m+'">'):b('<input class="'+m+'">');c.val(e).attr("id","editable_"+1*new Date).addClass("editable");"textarea"===g&&c.css("height",f.height());var d=function(){var b=c.val()&&c.val().replace(/^\s+/,"").replace(/\s+$/,"")||"",d=b.replace(/</gm,"&lt;").replace(/>/gm,"&gt;");"textarea"===g&&(d=d.replace(/[\r\n]/gm,"<br />"));f.html(d);l({value:b,target:f,old_value:e});k.register();a!==f&&a.show()};c.blur(d);"input"===g&&c.keydown(function(a){13===a.keyCode&&d()});f.html(c);c.focus()},register:function(){if("clickhold"===h){var b=null;a.bind("mousedown",function(a){b=setTimeout(function(){k.start(a)},500)});a.bind("mouseup mouseout",function(a){clearTimeout(b)})}else a.bind(h,k.start)}};k.register()})}})(jQuery);